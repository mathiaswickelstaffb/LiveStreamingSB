<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Events Plugin</title>
    <style>
        /* --- CSS STYLING (Siemens Branding) --- */
        :root {
            /* Siemens Brand Colors */
            --siemens-blue: #00183B;
            --siemens-cyan: #00FFB9;
            --siemens-white: #FFFFFF;
            --siemens-gray-bg: #F3F5F7;
            
            /* Semantic Mappings */
            --sb-primary: var(--siemens-blue);
            --sb-accent: var(--siemens-cyan);
            --sb-text: var(--siemens-blue);
            --sb-bg: var(--siemens-gray-bg);
            --sb-card-bg: #FFFFFF;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--sb-bg);
            color: var(--sb-text);
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Utility Classes */
        .hidden { display: none !important; }
        
        /* --- HERO BANNER (New) --- */
        .hero-banner {
            width: 100%;
            height: 220px;
            background-image: url('https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&w=1600&q=80');
            background-size: cover;
            background-position: center;
            position: relative;
            margin-bottom: -4px; /* Fix gap */
        }
        
        .hero-overlay {
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: linear-gradient(90deg, rgba(0,24,59,0.9) 0%, rgba(0,24,59,0.4) 100%);
            display: flex;
            align-items: center;
            padding: 0 40px;
        }

        .hero-title {
            color: white;
            font-size: 2.5rem;
            font-weight: 700;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        /* --- WIDGET HEADER --- */
        .widget-header {
            background-color: var(--sb-primary);
            color: var(--siemens-white);
            padding: 24px 24px 0 24px;
            margin-bottom: 24px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .header-top {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            flex-wrap: wrap; /* Allow wrapping on small screens */
            gap: 20px;
        }
        
        .header-left { display: flex; align-items: center; gap: 12px; }

        .header-icon {
            background-color: var(--sb-accent);
            color: var(--sb-primary);
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 4px;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .header-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 0;
            letter-spacing: 0.5px;
        }

        .header-subtitle {
            font-size: 0.9rem;
            color: rgba(255,255,255,0.7);
            display: block;
            margin-top: 4px;
        }

        .header-stats {
            display: flex;
            gap: 40px;
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            min-width: 80px;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--sb-accent);
        }

        .stat-label {
            font-size: 0.7rem;
            color: rgba(255,255,255,0.8);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 4px;
            text-align: center;
        }
        
        /* --- TABS / FILTERS (New) --- */
        .filter-bar {
            display: flex;
            gap: 24px;
            margin-top: 24px;
        }
        
        .filter-tab {
            color: rgba(255,255,255,0.6);
            font-weight: 600;
            font-size: 0.95rem;
            padding-bottom: 12px;
            cursor: pointer;
            position: relative;
            transition: color 0.2s;
        }
        
        .filter-tab:hover { color: white; }
        
        .filter-tab.active {
            color: white;
        }
        
        .filter-tab.active::after {
            content: '';
            position: absolute;
            bottom: 0; left: 0; right: 0;
            height: 3px;
            background-color: var(--sb-accent);
            border-radius: 3px 3px 0 0;
        }

        /* --- CONTENT CONTAINER --- */
        .content-container {
            padding: 24px;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* --- LIST VIEW --- */
        .event-list {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        @media (min-width: 768px) {
            .event-list {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
                gap: 24px;
            }
        }

        .event-card {
            background: var(--sb-card-bg);
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,24,59,0.08);
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            position: relative;
            display: flex;
            flex-direction: column;
            height: 100%;
            border: 1px solid rgba(0,24,59,0.05);
        }

        .event-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0,24,59,0.12);
        }

        .card-thumbnail {
            height: 180px;
            background-color: #eee;
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .live-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            background-color: var(--sb-accent);
            color: var(--sb-primary);
            font-size: 0.75rem;
            font-weight: 800;
            padding: 4px 10px;
            border-radius: 4px;
            text-transform: uppercase;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            z-index: 2;
        }

        .upcoming-badge {
            position: absolute;
            top: 12px; right: 12px;
            background-color: rgba(0, 24, 59, 0.85);
            color: white;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 4px 10px;
            border-radius: 4px;
            backdrop-filter: blur(4px);
        }
        
        .archive-badge {
            position: absolute;
            top: 12px; right: 12px;
            background-color: rgba(100, 116, 139, 0.9);
            color: white;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 4px 10px;
            border-radius: 4px;
        }

        .card-content {
            padding: 20px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .event-date {
            font-size: 0.8rem;
            color: #64748b;
            margin-bottom: 8px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .event-title {
            font-size: 1.15rem;
            font-weight: 700;
            margin: 0 0 10px 0;
            color: var(--sb-primary);
            line-height: 1.3;
        }

        .event-desc {
            font-size: 0.95rem;
            color: #475569;
            line-height: 1.5;
            flex-grow: 1;
        }
        
        .card-footer {
            padding: 16px 20px;
            border-top: 1px solid #f1f5f9;
            background-color: #fafafa;
            display: flex;
            justify-content: space-between; /* Changed for dual buttons */
            align-items: center;
        }
        
        .open-btn {
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--sb-primary);
            text-decoration: none;
            display: flex;
            align-items: center;
        }
        .open-btn::after { content: "→"; margin-left: 4px; transition: margin-left 0.2s; }
        .event-card:hover .open-btn::after { margin-left: 6px; }

        /* Calendar Button */
        .calendar-btn {
            background: none;
            border: 1px solid #e2e8f0;
            border-radius: 4px;
            padding: 6px 10px;
            cursor: pointer;
            color: #64748b;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            transition: all 0.2s;
        }
        .calendar-btn:hover {
            border-color: var(--sb-primary);
            color: var(--sb-primary);
            background-color: #eef2ff;
        }
        .calendar-btn svg { width: 14px; height: 14px; fill: currentColor; }


        /* --- DETAIL VIEW (CUSTOM PLAYER UI) --- */
        .detail-wrapper {
            padding: 24px;
            max-width: 1100px;
            margin: 0 auto;
        }
        
        .custom-player-container {
            position: relative;
            width: 100%;
            padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
            background-color: #000;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            margin-bottom: 32px;
        }

        .player-background {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0.9;
        }
        
        .player-gradient {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, rgba(0,24,59,0.2) 0%, rgba(0,24,59,0) 50%, rgba(0,9,30,0.95) 100%);
        }

        /* Top Left Logo Box */
        .player-logo-box {
            position: absolute;
            top: 24px;
            left: 24px;
            width: 48px;
            height: 48px;
            background-color: var(--siemens-cyan);
            color: var(--siemens-white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            font-size: 1.8rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.3);
        }

        .player-text-overlay {
            position: absolute;
            bottom: 90px;
            left: 24px;
            color: white;
            z-index: 10;
        }
        .player-brand-name { font-size: 1.5rem; font-weight: 700; display: block; letter-spacing: 0.5px; }
        .player-sub-name { font-size: 1.25rem; font-weight: 300; opacity: 0.9; }

        .player-controls {
            position: absolute;
            bottom: 24px;
            left: 24px;
            right: 24px;
            height: 56px;
            background-color: rgba(0, 9, 30, 0.9);
            display: flex;
            align-items: center;
            padding: 0 20px;
            border-radius: 6px;
            backdrop-filter: blur(5px);
        }

        .control-btn { background: none; border: none; cursor: pointer; display: flex; align-items: center; justify-content: center; padding: 0; margin-right: 20px; }
        .control-btn svg { fill: white; width: 24px; height: 24px; }
        .control-btn:hover svg { fill: var(--siemens-cyan); }

        .progress-track {
            flex-grow: 1;
            height: 4px;
            background-color: rgba(255,255,255,0.2);
            border-radius: 2px;
            margin: 0 20px;
            position: relative;
            cursor: pointer;
        }
        .progress-fill {
            width: 35%;
            height: 100%;
            background-color: var(--siemens-cyan);
            border-radius: 2px;
        }

        .time-display {
            color: white;
            font-size: 0.95rem;
            font-weight: 500;
            margin-right: 20px;
            font-variant-numeric: tabular-nums;
        }
        
        .right-controls { display: flex; gap: 16px; align-items: center; }

        .detail-info {
            background: var(--sb-card-bg);
            border-radius: 8px;
            padding: 32px;
            box-shadow: 0 4px 12px rgba(0,24,59,0.08);
        }

        .detail-title { margin: 0 0 8px 0; font-size: 2rem; color: var(--sb-primary); }
        .detail-meta { color: #64748b; font-size: 1rem; margin-bottom: 24px; padding-bottom: 24px; border-bottom: 1px solid #e2e8f0; }
        .back-btn { background: none; border: none; color: var(--sb-primary); font-weight: 700; cursor: pointer; padding: 0; margin-bottom: 24px; display: flex; align-items: center; font-size: 1rem; }
        .back-btn:hover { text-decoration: underline; opacity: 0.8; }

        .loader { text-align: center; padding: 60px; color: var(--sb-primary); opacity: 0.7; font-size: 1.2rem;}
        
    </style>
</head>
<body>

    <div id="app">
        
        <!-- NEW HERO BANNER -->
        <div class="hero-banner">
            <div class="hero-overlay">
                <h1 class="hero-title">Streaming Center</h1>
            </div>
        </div>

        <!-- WIDGET HEADER -->
        <div id="mainHeader" class="widget-header">
            <div class="header-top">
                <div class="header-left">
                    <div class="header-icon">3Q</div>
                    <div>
                        <div class="header-title">Live Events</div>
                        <span class="header-subtitle">Corporate Streaming & Townhalls</span>
                    </div>
                </div>
                
                <div class="header-stats">
                    <div class="stat-item">
                        <span id="statLive" class="stat-value">0</span>
                        <span class="stat-label">Live Now</span>
                    </div>
                    <div class="stat-item">
                        <span id="statUpcoming" class="stat-value">0</span>
                        <span class="stat-label">Upcoming</span>
                    </div>
                    <!-- NEW STAT: New Replays -->
                    <div class="stat-item">
                        <span id="statReplays" class="stat-value">0</span>
                        <span class="stat-label">New Replays</span>
                    </div>
                </div>
            </div>
            
            <!-- Filter Tabs -->
            <div class="filter-bar">
                <div class="filter-tab active" onclick="app.filterEvents('all', this)">All Events</div>
                <div class="filter-tab" onclick="app.filterEvents('live', this)">Live Now</div>
                <div class="filter-tab" onclick="app.filterEvents('upcoming', this)">Upcoming</div>
                <div class="filter-tab" onclick="app.filterEvents('archive', this)">On Demand</div>
            </div>
        </div>

        <div class="content-container">
            <div id="loader" class="loader">Loading events...</div>

            <!-- List View -->
            <div id="listView" class="hidden">
                <div id="eventListContainer" class="event-list"></div>
                <div id="noEventsMessage" class="hidden" style="text-align:center; opacity: 0.6; padding: 40px;">No events found in this category.</div>
            </div>

            <!-- Detail View -->
            <div id="detailView" class="hidden detail-wrapper">
                <button class="back-btn" onclick="app.showList()">
                    ← Back to Overview
                </button>
                
                <!-- CUSTOM PLAYER MOCKUP -->
                <div class="custom-player-container">
                    <div class="player-background" id="playerBg" style="background-image: url('');"></div>
                    <div class="player-gradient"></div>
                    <div class="player-logo-box">S</div>
                    <div class="player-text-overlay">
                        <span class="player-brand-name">SIEMENS</span>
                        <span class="player-sub-name">Energy System</span>
                    </div>
                    <div class="player-controls">
                        <button class="control-btn">
                            <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                        </button>
                        <button class="control-btn">
                            <svg viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02z"/></svg>
                        </button>
                        <div class="progress-track"><div class="progress-fill"></div></div>
                        <div class="time-display">00:00</div>
                        <div class="right-controls">
                            <button class="control-btn" style="margin:0;"><svg viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></svg></button>
                        </div>
                    </div>
                </div>

                <div class="detail-info">
                    <h2 id="detailTitle" class="detail-title"></h2>
                    <div id="detailDate" class="detail-meta"></div>
                    <p id="detailDesc" style="line-height: 1.6; font-size: 1.1rem; color:#334155;"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const CONFIG = {
            apiEndpoint: 'https://your-backend-service.example.com/api/events',
            useMockData: true 
        };

        const MOCK_DATA = [
            {
                id: 1,
                title: "SIEMENS Energy System",
                date: new Date(new Date().getTime() - 1000 * 60 * 30).toISOString(),
                description: "Live demonstration of the new solar array efficiency protocols. Broadcasting from Munich Innovation Hub.",
                isLive: true,
                status: 'live',
                imageUrl: "https://images.unsplash.com/photo-1509391366360-2e959784a276?auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 2,
                title: "Global Product Training",
                date: "2026-03-15T14:00:00.000Z",
                description: "Deep dive into Version 4.0 features. Mandatory for Sales & Marketing staff.",
                isLive: false,
                status: 'upcoming',
                imageUrl: "https://images.unsplash.com/photo-1531403009284-440f080d1e12?auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 3,
                title: "Cybersecurity Awareness",
                date: "2026-03-20T11:00:00.000Z",
                description: "Protecting our digital assets: A workshop on phishing and data protection.",
                isLive: false,
                status: 'upcoming',
                imageUrl: "https://images.unsplash.com/photo-1614064641938-3bbee52942c7?auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 4,
                title: "All-Hands: Asia Pacific",
                date: "2026-04-05T09:00:00.000Z",
                description: "Regional updates from Singapore and Tokyo offices.",
                isLive: false,
                status: 'upcoming',
                imageUrl: "https://images.unsplash.com/photo-1497366216548-37526070297c?auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 5,
                title: "AI in Manufacturing",
                date: "2026-04-12T10:00:00.000Z",
                description: "Exploring the impact of machine learning and autonomous systems on our production lines.",
                isLive: false,
                status: 'upcoming',
                imageUrl: "https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 6,
                title: "Sustainability Goals 2030",
                date: "2026-04-22T09:00:00.000Z",
                description: "Our path to net zero carbon emissions. Keynote speech by the Chief Sustainability Officer.",
                isLive: false,
                status: 'upcoming',
                imageUrl: "https://images.unsplash.com/photo-1473341304170-971dccb5ac1e?auto=format&fit=crop&w=800&q=80"
            },
            /* --- ARCHIVED EVENTS --- */
            {
                id: 10,
                title: "Year End Results 2025",
                date: "2025-12-15T10:00:00.000Z",
                description: "Review of the fiscal year 2025 and outlook for 2026.",
                isLive: false,
                status: 'archive',
                imageUrl: "https://images.unsplash.com/photo-1556761175-5973dc0f32e7?auto=format&fit=crop&w=800&q=80"
            },
            {
                id: 11,
                title: "Leadership Summit",
                date: "2025-11-20T14:00:00.000Z",
                description: "Key takeaways from the annual leadership conference in Frankfurt.",
                isLive: false,
                status: 'archive',
                imageUrl: "https://images.unsplash.com/photo-1511578314322-379afb476865?auto=format&fit=crop&w=800&q=80"
            }
        ];

        const app = {
            allEvents: [],
            currentFilter: 'all',

            init: function() {
                this.loadEvents();
            },

            loadEvents: async function() {
                try {
                    if (CONFIG.useMockData) {
                        await new Promise(r => setTimeout(r, 600));
                        this.allEvents = MOCK_DATA;
                    } else {
                        const response = await fetch(CONFIG.apiEndpoint);
                        this.allEvents = await response.json();
                    }
                    this.updateStats();
                    this.filterEvents('all', document.querySelector('.filter-tab.active'));
                } catch (error) {
                    console.error("Load error:", error);
                    document.getElementById('loader').innerText = "Failed to load events.";
                }
            },

            updateStats: function() {
                const liveCount = this.allEvents.filter(e => e.status === 'live' || e.isLive).length;
                const upcomingCount = this.allEvents.filter(e => e.status === 'upcoming').length;
                // For New Replays, we'll just count all archived items in this demo
                // In production, you'd filter by date (e.g., date > 7 days ago)
                const replayCount = this.allEvents.filter(e => e.status === 'archive').length;
                
                document.getElementById('statLive').innerText = liveCount;
                document.getElementById('statUpcoming').innerText = upcomingCount;
                document.getElementById('statReplays').innerText = replayCount;
            },

            filterEvents: function(category, tabElement) {
                // Update tabs UI
                document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
                if(tabElement) tabElement.classList.add('active');

                this.currentFilter = category;
                
                let filtered = [];
                if (category === 'all') {
                    // Show Live and Upcoming in "All", but hide Archive usually? 
                    // Let's show everything for now but sorted.
                    filtered = this.allEvents.filter(e => e.status !== 'archive'); 
                } else if (category === 'live') {
                    filtered = this.allEvents.filter(e => e.status === 'live' || e.isLive);
                } else if (category === 'upcoming') {
                    filtered = this.allEvents.filter(e => e.status === 'upcoming');
                } else if (category === 'archive') {
                    filtered = this.allEvents.filter(e => e.status === 'archive');
                }

                this.renderList(filtered);
            },

            renderList: function(events) {
                const container = document.getElementById('eventListContainer');
                container.innerHTML = '';
                document.getElementById('loader').classList.add('hidden');
                
                if (events.length === 0) {
                    document.getElementById('noEventsMessage').classList.remove('hidden');
                    document.getElementById('listView').classList.remove('hidden');
                    return;
                } else {
                    document.getElementById('noEventsMessage').classList.add('hidden');
                }

                // Sorting
                events.sort((a, b) => {
                    if (a.isLive && !b.isLive) return -1;
                    if (!a.isLive && b.isLive) return 1;
                    return new Date(a.date) - new Date(b.date);
                });

                events.forEach(event => {
                    const card = document.createElement('div');
                    card.className = `event-card`;
                    // Card Click -> Detail View
                    card.onclick = (e) => {
                        // Prevent click if button was clicked
                        if(e.target.closest('.calendar-btn')) return;
                        this.showDetail(event);
                    };

                    const dateObj = new Date(event.date);
                    const dateStr = dateObj.toLocaleDateString('en-US', {
                        month: 'short', day: 'numeric', year: 'numeric', hour: '2-digit', minute:'2-digit'
                    });

                    const bgStyle = `background-image: url('${event.imageUrl}');`;

                    let badgeHtml = '';
                    if (event.isLive || event.status === 'live') {
                        badgeHtml = `<span class="live-badge">● LIVE</span>`;
                    } else if (event.status === 'upcoming') {
                        badgeHtml = `<span class="upcoming-badge">Upcoming</span>`;
                    } else if (event.status === 'archive') {
                        badgeHtml = `<span class="archive-badge">On Demand</span>`;
                    }

                    // Action Button Logic
                    let actionHtml = '';
                    if (event.status === 'upcoming') {
                        actionHtml = `
                            <button class="calendar-btn" onclick="app.addToCalendar(event, '${event.title}')">
                                <svg viewBox="0 0 24 24"><path d="M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V10h14v10zm0-12H5V6h14v2zm-7 5h5v5h-5z"/></svg>
                                Add to Calendar
                            </button>
                        `;
                    } else if (event.status === 'archive') {
                         actionHtml = `
                            <button class="calendar-btn" style="border:none; padding-left:0;">
                                <span style="font-size:0.8rem;">Watch Recording</span>
                            </button>
                        `;
                    }

                    card.innerHTML = `
                        <div class="card-thumbnail" style="${bgStyle}">
                            ${badgeHtml}
                        </div>
                        <div class="card-content">
                            <span class="event-date">${dateStr}</span>
                            <h4 class="event-title">${event.title}</h4>
                            <p class="event-desc">${event.description}</p>
                        </div>
                        <div class="card-footer">
                            <span class="open-btn">Open</span>
                            ${actionHtml}
                        </div>
                    `;
                    container.appendChild(card);
                });

                document.getElementById('listView').classList.remove('hidden');
            },

            addToCalendar: function(e, title) {
                e.stopPropagation(); // Stop card click
                alert(`Event "${title}" added to your calendar! (Simulation)`);
            },

            showDetail: function(event) {
                document.getElementById('mainHeader').classList.add('hidden'); 
                document.querySelector('.hero-banner').classList.add('hidden'); // Also hide hero
                document.getElementById('listView').classList.add('hidden');
                document.getElementById('detailView').classList.remove('hidden');

                document.getElementById('detailTitle').innerText = event.title;
                document.getElementById('detailDesc').innerText = event.description;
                
                const dateStr = new Date(event.date).toLocaleDateString('en-US', {
                    weekday: 'long', month: 'long', day: 'numeric', year: 'numeric', 
                    hour: '2-digit', minute:'2-digit'
                });
                document.getElementById('detailDate').innerText = dateStr;

                // Update Background Image
                document.getElementById('playerBg').style.backgroundImage = `url('${event.imageUrl}')`;
                
                document.querySelector('.player-brand-name').innerText = event.title.split(' ')[0] || "SIEMENS";
                document.querySelector('.player-sub-name').innerText = event.title.substring(event.title.indexOf(' ')+1) || "Energy System";

                window.scrollTo(0,0);
            },

            showList: function() {
                document.getElementById('detailView').classList.add('hidden');
                document.getElementById('listView').classList.remove('hidden');
                document.getElementById('mainHeader').classList.remove('hidden');
                document.querySelector('.hero-banner').classList.remove('hidden');
            }
        };

        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });
    </script>
</body>
</html>
